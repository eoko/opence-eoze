(function(){if(!window.phpjs){window.phpjs={}}var a={PLUS:"+",MINUS:"-",BASE:10,scale:0,bc_num:function(){this.n_sign=null;this.n_len=null;this.n_scale=null;this.n_value=null;this.toString=function(){var b,c;c=this.n_value.join("");b=(this.n_sign==a.PLUS?"":this.n_sign)+c.substr(0,this.n_len);if(this.n_scale>0){b+="."+c.substr(this.n_len,this.n_scale)}return b}},bc_add:function(b,c,d){var e,f,g;if(b.n_sign===c.n_sign){e=a._bc_do_add(b,c,d);e.n_sign=b.n_sign}else{f=a._bc_do_compare(b,c,false,false);switch(f){case-1:e=a._bc_do_sub(c,b,d);e.n_sign=c.n_sign;break;case 0:g=a.MAX(d,a.MAX(b.n_scale,c.n_scale));e=a.bc_new_num(1,g);a.memset(e.n_value,0,0,g+1);break;case 1:e=a._bc_do_sub(b,c,d);e.n_sign=b.n_sign}}return e},bc_compare:function(b,c){return a._bc_do_compare(b,c,true,false)},_one_mult:function(b,c,d,e,f,g){var h,i;var j,k;if(e===0){a.memset(f,0,0,d)}else{if(e==1){a.memcpy(f,g,b,c,d)}else{j=c+d-1;k=g+d-1;h=0;while(d-->0){i=b[j--]*e+h;f[k--]=i%a.BASE;h=Math.floor(i/a.BASE)}if(h!==0){f[k]=h}}}},bc_divide:function(b,c,d){var e;var f;var g,h;var i,j,k,l;var m,n;var o,p,q,r,s,t;var u,v,w,x;var y;var z;var A;var B;if(a.bc_is_zero(c)){return-1}if(a.bc_is_zero(b)){return a.bc_new_num(1,d)}if(c.n_scale===0){if(c.n_len===1&&c.n_value[0]===1){f=a.bc_new_num(b.n_len,d);f.n_sign=b.n_sign==c.n_sign?a.PLUS:a.MINUS;a.memset(f.n_value,b.n_len,0,d);a.memcpy(f.n_value,0,b.n_value,0,b.n_len+a.MIN(b.n_scale,d))}}q=c.n_scale;k=c.n_len+q-1;while(q>0&&c.n_value[k--]===0){q--}o=b.n_len+q;m=b.n_scale-q;if(m<d){s=d-m}else{s=0}g=a.safe_emalloc(1,b.n_len+b.n_scale,s+2);if(g===null){a.bc_out_of_memory()}a.memset(g,0,0,b.n_len+b.n_scale+s+2);a.memcpy(g,1,b.n_value,0,b.n_len+b.n_scale);p=c.n_len+q;h=a.safe_emalloc(1,p,1);if(h===null){a.bc_out_of_memory()}a.memcpy(h,0,c.n_value,0,p);h[p]=0;k=0;while(h[k]===0){k++;p--}if(p>o+d){r=d+1;z=true}else{z=false;if(p>o){r=d+1}else{r=o-p+d+1}}f=a.bc_new_num(r-d,d);a.memset(f.n_value,0,0,r);y=a.safe_emalloc(1,p,1);if(y===null){a.bc_out_of_memory()}if(!z){A=Math.floor(10/(c.n_value[k]+1));if(A!=1){a._one_mult(g,0,o+m+s+1,A,g,0);a._one_mult(c.n_value,k,p,A,c.n_value,k)}u=0;if(p>o){l=p-o}else{l=0}while(u<=o+d-p){if(c.n_value[k]==g[u]){v=9}else{v=Math.floor((g[u]*10+g[u+1])/c.n_value[k])}if(c.n_value[k+1]*v>(g[u]*10+g[u+1]-c.n_value[k]*v)*10+g[u+2]){v--;if(c.n_value[k+1]*v>(g[u]*10+g[u+1]-c.n_value[k]*v)*10+g[u+2]){v--}}w=0;if(v!==0){y[0]=0;a._one_mult(c.n_value,k,p,v,y,1);i=u+p;j=p;for(t=0;t<p+1;t++){if(j<0){n=g[i]-0-w}else{n=g[i]-y[j--]-w}if(n<0){n+=10;w=1}else{w=0}g[i--]=n}}if(w==1){v--;i=u+p;j=p-1;x=0;for(t=0;t<p;t++){if(j<0){n=g[i]+0+x}else{n=g[i]+c.n_value[j--]+x}if(n>9){n-=10;x=1}else{x=0}g[i--]=n}if(x==1){g[i]=(g[i]+1)%10}}f.n_value[l++]=v;u++}}f.n_sign=b.n_sign==c.n_sign?a.PLUS:a.MINUS;if(a.bc_is_zero(f)){f.n_sign=a.PLUS}a._bc_rm_leading_zeros(f);return f},MUL_BASE_DIGITS:80,MUL_SMALL_DIGITS:this.MUL_BASE_DIGITS/4,bc_multiply:function(b,c,d){var e;var f,g;var h,i;f=b.n_len+b.n_scale;g=c.n_len+c.n_scale;h=b.n_scale+c.n_scale;i=a.MIN(h,a.MAX(d,a.MAX(b.n_scale,c.n_scale)));e=a._bc_rec_mul(b,f,c,g,h);e.n_sign=b.n_sign==c.n_sign?a.PLUS:a.MINUS;e.n_len=g+f+1-h;e.n_scale=i;a._bc_rm_leading_zeros(e);if(a.bc_is_zero(e)){e.n_sign=a.PLUS}return e},new_sub_num:function(b,c,d){var e=new a.bc_num;e.n_sign=a.PLUS;e.n_len=b;e.n_scale=c;e.n_value=d;return e},_bc_simp_mul:function(b,c,d,e,f){var g;var h,i,j;var k,l;var m,n,o;o=c+e+1;g=a.bc_new_num(o,0);k=c-1;l=e-1;j=o-1;n=0;for(m=0;m<o-1;m++){h=k-a.MAX(0,m-e+1);i=l-a.MIN(m,e-1);while(h>=0&&i<=l){n+=b.n_value[h--]*d.n_value[i++]}g.n_value[j--]=Math.floor(n%a.BASE);n=Math.floor(n/a.BASE)}g.n_value[j]=n;return g},_bc_shift_addsub:function(b,c,d,e){var f,g;var h,i;h=c.n_len;if(c.n_value[0]===0){h--}if(b.n_len+b.n_scale<d+h){throw new Error("len + scale < shift + count")}f=b.n_len+b.n_scale-d-1;g=c.n_len=1;i=0;if(e){while(h--){b.n_value[f]-=c.n_value[g--]+i;if(b.n_value[f]<0){i=1;b.n_value[f--]+=a.BASE}else{i=0;f--}}while(i){b.n_value[f]-=i;if(b.n_value[f]<0){b.n_value[f--]+=a.BASE}else{i=0}}}else{while(h--){b.n_value[f]+=c.n_value[g--]+i;if(b.n_value[f]>a.BASE-1){i=1;b.n_value[f--]-=a.BASE}else{i=0;f--}}while(i){b.n_value[f]+=i;if(b.n_value[f]>a.BASE-1){b.n_value[f--]-=a.BASE}else{i=0}}}return true},_bc_rec_mul:function(b,c,d,e,f){var g;var h,i,j,k;var l,m;var n,o,p,q,r;var s,t,u;var v,w;if(c+e<a.MUL_BASE_DIGITS||c<a.MUL_SMALL_DIGITS||e<a.MUL_SMALL_DIGITS){return a._bc_simp_mul(b,c,d,e,f)}s=Math.floor((a.MAX(c,e)+1)/2);if(c<s){i=a.bc_init_num();h=a.new_sub_num(c,0,b.n_value)}else{i=a.new_sub_num(c-s,0,b.n_value);h=a.new_sub_num(s,0,b.n_value+c-s)}if(e<s){k=a.bc_init_num();j=a.new_sub_num(e,0,d.n_value)}else{k=a.new_sub_num(e-s,0,d.n_value);j=a.new_sub_num(s,0,d.n_value+e-s)}a._bc_rm_leading_zeros(i);a._bc_rm_leading_zeros(h);l=h.n_len;a._bc_rm_leading_zeros(k);a._bc_rm_leading_zeros(j);m=j.n_len;u=a.bc_is_zero(i)||a.bc_is_zero(k);q=a.bc_init_num();r=a.bc_init_num();q=a.bc_sub(i,h,0);v=q.n_len;r=a.bc_sub(j,k,0);w=r.n_len;if(u){n=a.bc_init_num()}else{n=a._bc_rec_mul(i,i.n_len,k,k.n_len,0)}if(a.bc_is_zero(q)||a.bc_is_zero(r)){o=a.bc_init_num()}else{o=a._bc_rec_mul(q,v,r,w,0)}if(a.bc_is_zero(h)||a.bc_is_zero(j)){p=a.bc_init_num()}else{p=a._bc_rec_mul(h,h.n_len,j,j.n_len,0)}t=c+e+1;g=a.bc_new_num(t,0);if(!u){a._bc_shift_addsub(g,n,2*s,0);a._bc_shift_addsub(g,n,s,0)}a._bc_shift_addsub(g,p,s,0);a._bc_shift_addsub(g,p,0,0);a._bc_shift_addsub(g,o,s,q.n_sign!=r.n_sign);return g},_bc_do_compare:function(b,c,d,e){var f,g;var h;if(d&&b.n_sign!=c.n_sign){if(b.n_sign==a.PLUS){return 1}else{return-1}}if(b.n_len!=c.n_len){if(b.n_len>c.n_len){if(!d||b.n_sign==a.PLUS){return 1}else{return-1}}else{if(!d||b.n_sign==a.PLUS){return-1}else{return 1}}}h=b.n_len+Math.min(b.n_scale,c.n_scale);f=0;g=0;while(h>0&&b.n_value[f]==c.n_value[g]){f++;g++;h--}if(e&&h==1&&b.n_scale==c.n_scale){return 0}if(h!==0){if(b.n_value[f]>c.n_value[g]){if(!d||b.n_sign==a.PLUS){return 1}else{return-1}}else{if(!d||b.n_sign==a.PLUS){return-1}else{return 1}}}if(b.n_scale!=c.n_scale){if(b.n_scale>c.n_scale){for(h=b.n_scale-c.n_scale;h>0;h--){if(b.n_value[f++]!==0){if(!d||b.n_sign==a.PLUS){return 1}else{return-1}}}}else{for(h=c.n_scale-b.n_scale;h>0;h--){if(c.n_value[g++]!==0){if(!d||b.n_sign==a.PLUS){return-1}else{return 1}}}}}return 0},bc_sub:function(b,c,d){var e;var f,g;if(b.n_sign!=c.n_sign){e=a._bc_do_add(b,c,d);e.n_sign=b.n_sign}else{f=a._bc_do_compare(b,c,false,false);switch(f){case-1:e=a._bc_do_sub(c,b,d);e.n_sign=c.n_sign==a.PLUS?a.MINUS:a.PLUS;break;case 0:g=a.MAX(d,a.MAX(b.n_scale,c.n_scale));e=a.bc_new_num(1,g);a.memset(e.n_value,0,0,g+1);break;case 1:e=a._bc_do_sub(b,c,d);e.n_sign=b.n_sign;break}}return e},_bc_do_add:function(b,c,d){var e;var f,g;var h,i,j;var k,l,m;var n;f=a.MAX(b.n_scale,c.n_scale);g=a.MAX(b.n_len,c.n_len)+1;e=a.bc_new_num(g,a.MAX(f,d));l=b.n_scale;m=c.n_scale;h=b.n_len+l-1;i=c.n_len+m-1;j=f+g-1;if(l!=m){if(l>m){while(l>m){e.n_value[j--]=b.n_value[h--];l--}}else{while(m>l){e.n_value[j--]=c.n_value[i--];m--}}}l+=b.n_len;m+=c.n_len;k=0;while(l>0&&m>0){n=b.n_value[h--]+c.n_value[i--]+k;if(n>=a.BASE){k=1;n-=a.BASE}else{k=0}e.n_value[j]=n;j--;l--;m--}if(l===0){while(m-->0){n=c.n_value[i--]+k;if(n>=a.BASE){k=1;n-=a.BASE}else{k=0}e.n_value[j--]=n}}else{while(l-->0){n=b.n_value[h--]+k;if(n>=a.BASE){k=1;n-=a.BASE}else{k=0}e.n_value[j--]=n}}if(k==1){e.n_value[j]+=1}a._bc_rm_leading_zeros(e);return e},_bc_do_sub:function(b,c,d){var e;var f,g;var h,i;var j,k,l;var m,n,o;g=a.MAX(b.n_len,c.n_len);f=a.MAX(b.n_scale,c.n_scale);i=a.MIN(b.n_len,c.n_len);h=a.MIN(b.n_scale,c.n_scale);e=a.bc_new_num(g,a.MAX(f,d));j=b.n_len+b.n_scale-1;k=c.n_len+c.n_scale-1;l=g+f-1;m=0;if(b.n_scale!=h){for(n=b.n_scale-h;n>0;n--){e.n_value[l--]=b.n_value[j--]}}else{for(n=c.n_scale-h;n>0;n--){o=0-c.n_value[k--]-m;if(o<0){o+=a.BASE;m=1}else{m=0}e.n_value[l--]=o}}for(n=0;n<i+h;n++){o=b.n_value[j--]-c.n_value[k--]-m;if(o<0){o+=a.BASE;m=1}else{m=0}e.n_value[l--]=o}if(g!=i){for(n=g-i;n>0;n--){o=b.n_value[j--]-m;if(o<0){o+=a.BASE;m=1}else{m=0}e.n_value[l--]=o}}a._bc_rm_leading_zeros(e);return e},bc_new_num:function(b,c){var d;d=new a.bc_num;d.n_sign=a.PLUS;d.n_len=b;d.n_scale=c;d.n_value=a.safe_emalloc(1,b+c,0);a.memset(d.n_value,0,0,b+c);return d},safe_emalloc:function(a,b,c){return Array(a*b+c)},bc_init_num:function(){return new a.bc_new_num(1,0)},_bc_rm_leading_zeros:function(a){while(a.n_value[0]===0&&a.n_len>1){a.n_value.shift();a.n_len--}},php_str2num:function(b){var c;c=b.indexOf(".");if(c==-1){return a.bc_str2num(b,0)}else{return a.bc_str2num(b,b.length-c)}},CH_VAL:function(a){return a-"0"},BCD_CHAR:function(a){return a+"0"},isdigit:function(a){return isNaN(parseInt(a,10))?false:true},bc_str2num:function(b,c){var d,e,f,g,h,i,j;d=b.split("");f=0;g=0;h=0;i=false;if(d[f]==="+"||d[f]==="-"){f++}while(d[f]==="0"){f++}while(d[f]%1===0){f++;g++}if(d[f]==="."){f++}while(d[f]%1===0){f++;h++}if(d[f]||g+h===0){return a.bc_init_num()}h=a.MIN(h,c);if(g===0){i=true;g=1}e=a.bc_new_num(g,h);f=0;if(d[f]==="-"){e.n_sign=a.MINUS;f++}else{e.n_sign=a.PLUS;if(d[f]==="+"){f++}}while(d[f]==="0"){f++}j=0;if(i){e.n_value[j++]=0;g=0}for(;g>0;g--){e.n_value[j++]=a.CH_VAL(d[f++])}if(h>0){f++;for(;h>0;h--){e.n_value[j++]=a.CH_VAL(d[f++])}}return e},cint:function(a){if(typeof a=="undefined"){a=0}var b=parseInt(a,10);if(isNaN(b)){b=0}return b},MIN:function(a,b){return a>b?b:a},MAX:function(a,b){return a>b?a:b},ODD:function(a){return a&1},memset:function(a,b,c,d){var e;for(e=0;e<d;e++){a[b+e]=c}},memcpy:function(a,b,c,d,e){var f;for(f=0;f<e;f++){a[b+f]=c[d+f]}return true},bc_is_zero:function(a){var b;var c;b=a.n_len+a.n_scale;c=0;while(b>0&&a.n_value[c++]===0){b--}if(b!==0){return false}else{return true}},bc_out_of_memory:function(){throw new Error("(BC) Out of memory")}};phpjs.bcadd=function(c,d,e){var f,g,h;if(typeof e=="undefined"){e=a.scale}e=e<0?0:e;f=a.bc_init_num();g=a.bc_init_num();h=a.bc_init_num();f=a.php_str2num(c.toString());g=a.php_str2num(d.toString());h=a.bc_add(f,g,e);if(h.n_scale>e){h.n_scale=e}return h.toString()};phpjs.bccomp=function(c,d,e){var f,g;if(typeof e=="undefined"){e=a.scale}e=e<0?0:e;f=a.bc_init_num();g=a.bc_init_num();f=a.bc_str2num(c.toString(),e);g=a.bc_str2num(d.toString(),e);return a.bc_compare(f,g,e)};phpjs.bcdiv=function(c,d,e){var f,g,h;if(typeof e=="undefined"){e=a.scale}e=e<0?0:e;f=a.bc_init_num();g=a.bc_init_num();h=a.bc_init_num();f=a.php_str2num(c.toString());g=a.php_str2num(d.toString());h=a.bc_divide(f,g,e);if(h===-1){throw new Error(11,"(BC) Division by zero")}if(h.n_scale>e){h.n_scale=e}return h.toString()};phpjs.bcmul=function(c,d,e){var f,g,h;if(typeof e=="undefined"){e=a.scale}e=e<0?0:e;f=a.bc_init_num();g=a.bc_init_num();h=a.bc_init_num();f=a.php_str2num(c.toString());g=a.php_str2num(d.toString());h=a.bc_multiply(f,g,e);if(h.n_scale>e){h.n_scale=e}return h.toString()};phpjs.bcround=function(c,d){var e,f,g;var h;e=a.bc_init_num();e=a.php_str2num(c.toString());if(d>=e.n_scale){while(e.n_scale<d){e.n_value[e.n_len+e.n_scale]=0;e.n_scale++}return e.toString()}g=e.n_value[e.n_len+d];h=a.bc_init_num();h=a.bc_new_num(1,d);if(g>=5){h.n_value[h.n_len+h.n_scale-1]=1;if(e.n_sign==a.MINUS){h.n_sign=a.MINUS}f=a.bc_add(e,h,d)}else{f=e}if(f.n_scale>d){f.n_scale=d}return f.toString()};phpjs.bcscale=function(c){c=parseInt(c,10);if(isNaN(c)){return false}if(c<0){return false}a.scale=c;return true};phpjs.bcsub=function(c,d,e){var f,g,h;if(typeof e=="undefined"){e=a.scale}e=e<0?0:e;f=a.bc_init_num();g=a.bc_init_num();h=a.bc_init_num();f=a.php_str2num(c.toString());g=a.php_str2num(d.toString());h=a.bc_sub(f,g,e);if(h.n_scale>e){h.n_scale=e}return h.toString()}})()